backend:
PS C:\Users\Sav\ProgramingProjects\chemfetch-live\chemfetch-backend-live> npm run dev

> chemfetch-backend@1.0.0 dev
> npx tsx server/index.ts

[dotenv@17.2.1] injecting env (12) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[AUTO_SDS_DEBUG] ==============================
[AUTO_SDS_DEBUG] OCR Service URL: http://127.0.0.1:5001
[AUTO_SDS_DEBUG] Environment variables: {
  EXPO_PUBLIC_OCR_API_URL: 'http://127.0.0.1:5001',
  OCR_SERVICE_URL: 'http://127.0.0.1:5001',
  NODE_ENV: undefined,
  PORT: '3001'
}
[AUTO_SDS_DEBUG] ==============================
[dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ“¡ observe env with Radar: https://dotenvx.com/radar
[17:26:44.715] INFO (31876): Backend API listening on port 3001
[17:26:44.716] INFO (31876): Environment: undefined
[17:28:54.999] INFO (31876): [SCAN] Processing scan request {"code":"93549004","userId":"345c9873-9307-4d84-b96d-456599b4ad03","isManualEntry":false}
[17:28:56.234] INFO (31876): [SCRAPER] Bing links collected {"query":"Item 93549004","linkCount":10,"links":["https://www.cincottachemist.com.au/shop/131489-isocol-rubbing-alcohol-antiseptic-spray-75ml-93549004.html","https://superpharmacyplus.com.au/isocol-rubbing-alcohol-antiseptic-75ml/","https://discountchemist.com.au/isocol-multi-purpose-antiseptic-spray-75ml/","https://www.pharmacydirect.com.au/isocol-rubbing-alcohol-spray-75ml","https://www.ebay.com.au/itm/143652065347","https://www.davidjonespharmacy.com.au/isocol-rubbing-alcohol-multipurpose-pump-spray-75m"]}
[17:28:56.234] INFO (31876): [SCAN] Bing links fetched {"code":"93549004","query":"Item 93549004","linkCount":6,"topLinks":["www.cincottachemist.com.au/shop/131489-isocol-rubbing-alcohol-antiseptic-spray-75ml-93549004.html","superpharmacyplus.com.au/isocol-rubbing-alcohol-antiseptic-75ml","discountchemist.com.au/isocol-multi-purpose-antiseptic-spray-75ml","www.pharmacydirect.com.au/isocol-rubbing-alcohol-spray-75ml","www.ebay.com.au/itm/143652065347","www.davidjonespharmacy.com.au/isocol-rubbing-alcohol-multipurpose-pump-spray-75m"]}
[17:28:56.541] INFO (31876): [SCRAPER] Bing links collected {"query":"93549004 barcode","linkCount":19,"links":["https://www.google.com/","https://www.google.com/?hl=th-US","https://accounts.google.com/","https://www.google.com/?hl=om-US","https://account.google.com/","https://translate.google.com/"]}
[17:28:56.541] INFO (31876): [SCAN] Bing links fetched {"code":"93549004","query":"93549004 barcode","linkCount":6,"topLinks":["www.google.com","www.google.com","accounts.google.com","www.google.com","account.google.com","translate.google.com"]}
[17:28:56.812] INFO (31876): [SCRAPER] Bing links collected {"query":"93549004 product","linkCount":20,"links":["https://www.azquotes.com/","https://ja.hinative.com/questions/19515539","https://ja.hinative.com/questions/6562590","https://www.azquotes.com/quote_of_the_day.html","https://ja.hinative.com/questions/18064245","https://www.azquotes.com/quotes/topics/funny.html"]}
[17:28:56.812] INFO (31876): [SCAN] Bing links fetched {"code":"93549004","query":"93549004 product","linkCount":6,"topLinks":["www.azquotes.com","ja.hinative.com/questions/19515539","ja.hinative.com/questions/6562590","www.azquotes.com/quote_of_the_day.html","ja.hinative.com/questions/18064245","www.azquotes.com/quotes/topics/funny.html"]}
[17:28:56.813] INFO (31876): [SCAN] Candidate URLs prepared {"code":"93549004","candidateCount":12,"candidates":["www.cincottachemist.com.au/shop/131489-isocol-rubbing-alcohol-antiseptic-spray-75ml-93549004.html","superpharmacyplus.com.au/isocol-rubbing-alcohol-antiseptic-75ml","discountchemist.com.au/isocol-multi-purpose-antiseptic-spray-75ml","www.pharmacydirect.com.au/isocol-rubbing-alcohol-spray-75ml","www.ebay.com.au/itm/143652065347","www.davidjonespharmacy.com.au/isocol-rubbing-alcohol-multipurpose-pump-spray-75m","www.google.com","www.google.com","accounts.google.com","www.google.com"]}
[17:28:57.054] INFO (Isocol Multipurpose Spray 75mL/31876): [SCRAPER] scrape summary {"url":"https://www.cincottachemist.com.au/shop/131489-isocol-rubbing-alcohol-antiseptic-spray-75ml-93549004.html","size":"75mL","sdsUrl":null}
[17:28:57.866] INFO (Isocol Rubbing Alcohol Antiseptic 75mL/31876): [SCRAPER] scrape summary {"url":"https://superpharmacyplus.com.au/isocol-rubbing-alcohol-antiseptic-75ml/","size":"75mL","sdsUrl":null}
[17:28:58.025] INFO (Isocol Rubbing Alcohol Antiseptic 75mL/31876): [SCRAPER] scrape summary {"url":"https://discountchemist.com.au/isocol-multi-purpose-antiseptic-spray-75ml/","size":"75mL","sdsUrl":null}
[17:28:58.891] INFO (Isocol Rubbing Alcohol Spray 75ml/31876): [SCRAPER] scrape summary {"url":"https://www.pharmacydirect.com.au/isocol-rubbing-alcohol-spray-75ml","size":"75ml","sdsUrl":null}
[17:28:59.887] INFO (Isocol Rubbing Alcohol Antiseptic 75mL Multi/31876): [SCRAPER] scrape summary {"url":"https://www.ebay.com.au/itm/143652065347","size":"75mL","sdsUrl":null}
[17:29:01.054] INFO (Isocol Rubbing Alcohol Multipurpose Pump Spray 75mL/31876): [SCRAPER] scrape summary {"url":"https://www.davidjonespharmacy.com.au/isocol-rubbing-alcohol-multipurpose-pump-spray-75m","size":"75mL","sdsUrl":null}
[17:29:01.710] INFO (Google/31876): [SCRAPER] scrape summary {"url":"https://www.google.com/","size":"","sdsUrl":null}
[17:29:02.186] INFO (Google/31876): [SCRAPER] scrape summary {"url":"https://www.google.com/?hl=th-US","size":"","sdsUrl":null}
[17:29:03.680] INFO (Sign in/31876): [SCRAPER] scrape summary {"url":"https://accounts.google.com/","size":"","sdsUrl":null}
[17:29:04.169] INFO (Google/31876): [SCRAPER] scrape summary {"url":"https://www.google.com/?hl=om-US","size":"","sdsUrl":null}
[17:29:05.430] INFO (All of Google, working for you/31876): [SCRAPER] scrape summary {"url":"https://account.google.com/","size":"","sdsUrl":null}
[17:29:06.369] INFO (Text translation/31876): [SCRAPER] scrape summary {"url":"https://translate.google.com/","size":"","sdsUrl":null}
[17:29:06.369] INFO (31876): [SCAN] Scraped product results {"code":"93549004","scrapedCount":12,"sampledResults":[{"name":"Isocol Multipurpose Spray 75mL","size":"75mL","hasSds":false,"source":"https://www.cincottachemist.com.au/shop/131489-isocol-rubbing-alcohol-antiseptic-spray-75ml-93549004.html"},{"name":"Isocol Rubbing Alcohol Antiseptic 75mL","size":"75mL","hasSds":false,"source":"https://superpharmacyplus.com.au/isocol-rubbing-alcohol-antiseptic-75ml/"},{"name":"Isocol Rubbing Alcohol Antiseptic 75mL","size":"75mL","hasSds":false,"source":"https://discountchemist.com.au/isocol-multi-purpose-antiseptic-spray-75ml/"}]}
[17:29:06.741] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL 75mL safety data sheet","linkCount":21,"links":["https://answers.microsoft.com/ko-kr/windows/forum/all/%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%a8/ea2c95e7-5372-40ce-b5b6-b7204c025860","https://answers.microsoft.com/ko-kr/windows/forum/all/%ea%b8%b0%eb%b3%b8%ea%b2%8c%ec%9e%84%ec%9d%84/58a81a8f-1cab-43da-bda2-1f9a1e6d664c","https://answers.microsoft.com/ko-kr/msoffice/forum/all/%ed%8c%8c%ec%9b%8c%ed%8f%ac%ec%9d%b8%ed%8a%b8/fd6f2e97-7887-4e98-9b96-b1a4a977b990","https://answers.microsoft.com/ko-kr/skype/forum/all/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4%EC%9A%A9/019c7e30-de10-4500-a1e1-72eb800fa09c","https://answers.microsoft.com/ko-kr/windows/forum/all/%EC%9C%88%EB%8F%84%EC%9A%B010-%EC%95%B1-%EB%B0%8F/9da1ee31-f99f-4221-b073-7cff000f25b5","https://answers.microsoft.com/ko-kr/msoffice/forum/all/office-365%ec%9d%98/be34edf4-c1c2-41e7-ab1e-22b90f186814"]}
[17:29:07.016] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL 75mL sds pdf","linkCount":21,"links":["https://link.springer.com/rwe/10.1007/978-981-99-2074-7_29","https://www.scribd.com/document/391525444/REFERENCE-MATERIALS-IN-QUALITY-ASSURANCE-pdf","https://www.researchgate.net/publication/236896225_Development_and_use_of_reference_materials_and_quality_control_materials","https://www.global-proficiency.com/_files/ugd/e237c0_20e7ec3acfc4453183eb50ea66d94888.pdf?index=true","https://www.taylorfrancis.com/chapters/mono/10.1201/9781003504627-6/reference-materials-piotr-konieczka","https://blog.quality-pathshala.com/2024/02/29/the-crucial-role-of-standard-and-certified-reference-materials-crms-in-chemical-testing-laboratories-a-comprehensive-guide/"]}
[17:29:07.322] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL sds pdf","linkCount":21,"links":["https://m.media-amazon.com/images/I/81heA4nSXUL.pdf","https://www.chemistdirect.com.au/isocol-rubbing-alcohol-multipurpose-spray-75ml","https://www.isocol.com.au/products","https://www.woolworths.com.au/shop/productdetails/682432/isocol-multipurpose-anti-bacterial-lotion-spray?msockid=26aacb3f978965ea3193dd5096fd647e","https://www.chemistwarehouse.com.au/buy/81852/isocol-multipurpose-spray-75ml","https://sealakepharmacy.com.au/products/isocol-multipurpose-spray-75ml"]}
[17:29:07.601] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL msds","linkCount":19,"links":["https://m.media-amazon.com/images/I/81heA4nSXUL.pdf","https://sealakepharmacy.com.au/products/isocol-multipurpose-spray-75ml","https://www.isocol.com.au/","https://www.pharmacyjunction.com.au/product/isocol-multipurpose-spray-75ml/","https://www.woolworths.com.au/shop/productdetails/682432/isocol-multipurpose-anti-bacterial-lotion-spray?msockid=11a81991c59b605e367f0ffec4f1612e","https://www.chemistwarehouse.com.au/buy/81852/isocol-multipurpose-spray-75ml"]}
[17:29:07.834] INFO (31876): [SCAN] Request completed {"code":"93549004","productId":433,"message":"Product found via web search"}
[17:29:07.836] INFO (31876): request completed {"req":{"id":1,"method":"POST","url":"/scan","query":{},"params":{},"headers":{"content-type":"application/json","content-length":"67","host":"192.168.68.52:3001","connection":"Keep-Alive","accept-encoding":"gzip","user-agent":"okhttp/4.12.0"},"remoteAddress":"192.168.68.65","remotePort":56828},"res":{"statusCode":200,"headers":{"x-powered-by":"Express","vary":"Origin","access-control-allow-credentials":"true","x-ratelimit-limit":"60","x-ratelimit-remaining":"59","date":"Mon, 22 Sep 2025 07:28:54 GMT","x-ratelimit-reset":"1758526195","x-content-type-options":"nosniff","x-frame-options":"DENY","x-xss-protection":"1; mode=block","content-type":"application/json; charset=utf-8","content-length":"2111","etag":"W/\"83f-myMX80UqzQIKgXQ6WH0EiEyUQl4\""}},"responseTime":12839}
[17:29:14.133] INFO (Isocol Multipurpose Spray 75mL/31876): [CONFIRM] Upserting product {"code":"93549004","size":"75mL"}
[17:29:14.288] INFO (31876): request completed {"req":{"id":2,"method":"POST","url":"/confirm","query":{},"params":{},"headers":{"content-type":"application/json","content-length":"73","host":"192.168.68.52:3001","connection":"Keep-Alive","accept-encoding":"gzip","user-agent":"okhttp/4.12.0"},"remoteAddress":"192.168.68.65","remotePort":52110},"res":{"statusCode":409,"headers":{"x-powered-by":"Express","vary":"Origin","access-control-allow-credentials":"true","x-ratelimit-limit":"60","x-ratelimit-remaining":"58","date":"Mon, 22 Sep 2025 07:29:14 GMT","x-ratelimit-reset":"1758526195","x-content-type-options":"nosniff","x-frame-options":"DENY","x-xss-protection":"1; mode=block","content-type":"application/json; charset=utf-8","content-length":"165","etag":"W/\"a5-CzHj2yurJWq602KySiwyLdNUgeo\""}},"responseTime":155}
[17:29:14.829] INFO (Isocol Multipurpose Spray 75mL/31876): [SDS-BY-NAME] Processing request
[17:29:15.943] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL safety data sheet","linkCount":71,"links":["https://m.media-amazon.com/images/I/81heA4nSXUL.pdf","https://web.wapres.com.au/wp-content/uploads/2023/03/ra_isocol-rubbing-alcohol.pdf","https://www.isocol.com.au/","https://www.chemistdirect.com.au/isocol-rubbing-alcohol-multipurpose-spray-75ml","https://www.winc.com.au/main-catalogue-productdetail/isocol-rubbing-alcohol-antiseptic-spray-75ml/25139141","https://www.chemistwarehouse.com.au/buy/81852/isocol-multipurpose-spray-75ml"]}
[17:29:16.691] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL sds pdf","linkCount":48,"links":["https://m.media-amazon.com/images/I/81heA4nSXUL.pdf","https://www.chemistwarehouse.com.au/buy/81852/isocol-multipurpose-spray-75ml","https://www.woolworths.com.au/shop/productdetails/682432/isocol-multipurpose-anti-bacterial-lotion-spray?msockid=31bacc084bfc64f838efda674a0865c3","https://joyamedicalsupplies.com.au/product/isocol-multipurpose-rubbing-alcohol-spray-75ml/","https://web.wapres.com.au/wp-content/uploads/2023/03/ra_isocol-rubbing-alcohol.pdf","https://www.winc.com.au/main-catalogue-productdetail/isocol-rubbing-alcohol-antiseptic-spray-75ml/25139141"]}
[17:29:17.359] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL sds pdf","linkCount":46,"links":["https://m.media-amazon.com/images/I/81heA4nSXUL.pdf","https://www.isocol.com.au/","https://www.chemistwarehouse.com.au/buy/81852/isocol-multipurpose-spray-75ml","https://www.woolworths.com.au/shop/productdetails/682432/isocol-multipurpose-anti-bacterial-lotion-spray?msockid=19b77639f2f96a6919a86056f3cc6b71","https://www.chemistdirect.com.au/isocol-rubbing-alcohol-multipurpose-spray-75ml","https://web.wapres.com.au/wp-content/uploads/2023/03/ra_isocol-rubbing-alcohol.pdf"]}
[17:29:18.046] INFO (31876): [SCRAPER] Bing links collected {"query":"Isocol Multipurpose Spray 75mL msds","linkCount":10,"links":["https://m.media-amazon.com/images/I/81heA4nSXUL.pdf","https://www.isocol.com.au/","https://www.coles.com.au/product/isocol-multipurpose-rubbing-alcohol-antiseptic-spray-75ml-3411883?uztq=46abcbb7e16253b0cdc3e6c5bbe6a3f0","https://www.chemistdirect.com.au/isocol-rubbing-alcohol-multipurpose-spray-75ml","https://www.chemistwarehouse.com.au/buy/81852/isocol-multipurpose-spray-75ml","https://www.woolworths.com.au/shop/productdetails/682432/isocol-multipurpose-anti-bacterial-lotion-spray"]}


mobile:
Android Bundled 69ms node_modules\expo-router\entry.js (1 module)
 WARN  SafeAreaView has been deprecated and will be removed in a future release. Please use 'react-native-safe-area-context' instead. See https://github.com/th3rdwave/react-native-safe-area-context
 INFO  [ChemFetch] guessHost() resolved to: 192.168.68.52
 INFO  [ChemFetch] BACKEND_API_URL resolved to: http://192.168.68.52:3001
 INFO  [ChemFetch] ENV EXPO_PUBLIC_BACKEND_API_URL: http://192.168.68.52:3001
 LOG  ðŸ“¥ Login result: {"data": {"session": {"access_token": "eyJhbGciOiJIUzI1NiIsImtpZCI6IklFcWUzcGZHREJ2dFBOc3YiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3lkenh2cHVsbGtleW5udWpwem9uLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIzNDVjOTg3My05MzA3LTRkODQtYjk2ZC00NTY1OTliNGFkMDMiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzU4NTI5NzMwLCJpYXQiOjE3NTg1MjYxMzAsImVtYWlsIjoibWFpZGVuZmFuNzhAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im1haWRlbmZhbjc4QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjM0NWM5ODczLTkzMDctNGQ4NC1iOTZkLTQ1NjU5OWI0YWQwMyJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzU4NTI2MTMwfV0sInNlc3Npb25faWQiOiJiMjNhMWNjNC1kYmRlLTQ5MzktYmQ1YS1kNjlhYWQ4NmEyMTEiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.RlRL1kDwwB3zOxHXRbE52PnhVYZvNabv4QfhmLX-7OA", "expires_at": 1758529730, "expires_in": 3600, "refresh_token": "ss5uexy6whsr", "token_type": "bearer", "user": [Object], "weak_password": null}, "user": {"app_metadata": [Object], "aud": "authenticated", "confirmation_sent_at": "2025-07-31T13:23:53.971657Z", "confirmed_at": "2025-07-31T13:24:09.111963Z", "created_at": "2025-07-31T13:23:53.942389Z", "email": "maidenfan78@gmail.com", "email_confirmed_at": "2025-07-31T13:24:09.111963Z", "id": "345c9873-9307-4d84-b96d-456599b4ad03", "identities": [Array], "is_anonymous": false, "last_sign_in_at": "2025-09-22T07:28:50.538276159Z", "phone": "", "role": "authenticated", "updated_at": "2025-09-22T07:28:50.58517Z", "user_metadata": [Object]}}, "error": null}
 INFO  2025-09-22T07:28:56.775Z [INFO] [BARCODE_SCAN] Starting scan request for barcode: 93549004 | {"barcode":"93549004","userId":"345c9873-9307-4d84-b96d-456599b4ad03","backendUrl":"http://192.168.68.52:3001"}
 INFO  2025-09-22T07:29:09.731Z [INFO] [BARCODE_SCAN] Backend response received | {"barcode":"93549004","requestTime":12956}

 ocr:
 PS C:\Users\Sav\ProgramingProjects\chemfetch-live\chemfetch-backend-live\ocr_service> python ocr_service.py
2025-09-22 17:26:38,998 - INFO - __main__ - Using pdfplumber for PDF text extraction (PyMuPDF not available)
2025-09-22 17:26:39,412 - INFO - __main__ - OCR dependencies available - full functionality enabled
2025-09-22 17:26:39,474 - INFO - parse_sds - [PARSE_SDS] Successfully imported sds_extractor.parse_pdf
2025-09-22 17:26:39,478 - INFO - __main__ - Starting ChemFetch OCR Service
2025-09-22 17:26:39,479 - INFO - __main__ - OCR Mode: auto
2025-09-22 17:26:39,479 - INFO - __main__ - OCR Available: True
2025-09-22 17:26:39,479 - INFO - __main__ - Memory Mode: full
2025-09-22 17:26:39,479 - INFO - __main__ - Development mode - starting Flask dev server
 * Serving Flask app 'ocr_service'
 * Debug mode: off
2025-09-22 17:26:39,499 - INFO - werkzeug - WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.68.52:5001
2025-09-22 17:26:39,499 - INFO - werkzeug - Press CTRL+C to quit